# RoboMaster GUI Controller (明文SDK - TCP模式)

这是一个使用 Python `tkinter` 库编写的图形化界面，用于通过大疆 RoboMaster EP/S1 的明文SDK（TCP模式）来控制机器人。

## 主要功能

- **图形化界面**: 提供了一个用户友好的界面来控制机器人，无需编写代码。
- **多平台兼容**: 基于Python和Tkinter，理论上可以在Windows, macOS, 和 Linux上运行。
- **实时视频流**: 可以在界面上实时显示来自机器人摄像头的第一视角画面。
- **模块化控制**: 将不同的控制功能（如连接、底盘、云台、机械臂）划分到不同的区域，方便操作。

## 新增功能 (本次更新)

本次更新对控制器进行了大幅重构和功能增强，主要包括：

1.  **多种控制模式**:
    *   **连续模式**: 按下按钮后机器人会持续运动，直到按下停止。
    *   **单次模式**: 按下按钮后机器人会执行一个短暂动作后自动停止，适合微调。
    *   **手柄模式**: 支持使用游戏手柄（如Xbox手柄）进行更流畅的控制。

2.  **高级手柄支持**:
    *   **自定义轴绑定**: 在“手柄设置”中，可以为前进/后退、左/右平移、左/右旋转等动作自由绑定手柄的任意轴。
    *   **反转轴向**: 支持一键反转任意轴的方向，以适应不同手柄的摇杆习惯。
    *   **实时轴数据显示**: 实时显示手柄所有轴的数值，方便用户进行调试和绑定。
    *   **智能平移控制**: 在手柄模式下，纯粹的左右平移会自动切换到底层的轮速指令，实现最精确的麦克纳姆轮运动。

3.  **连接稳定性优化**:
    *   修复了之前版本中因心跳间隔过长和指令不当导致的连接中断问题，现在可以保持长时间的稳定控制。

## 使用方法

1.  **环境配置**:
    *   确保您的电脑上已安装 Python 3.x。
    *   进入虚拟环境 (推荐):
        ```bash
        # (Windows PowerShell)
        .\venv\Scripts\Activate.ps1
        ```
    *   安装所有必需的依赖库:
        ```bash
        pip install -r requirements.txt
        ```
        特别注意，手柄功能需要 `pygame` 库，如果 `requirements.txt` 中没有，请手动安装: `pip install pygame`

2.  **机器人连接**:
    *   将您的电脑和RoboMaster机器人连接到同一个局域网下。
    *   确保机器人已开启明文SDK端口。

3.  **运行程序**:
    ```bash
    python robomaster_gui_controller.py
    ```

4.  **操作**:
    *   在界面中输入机器人的IP地址，点击“连接”。
    *   连接成功后，点击“开启视频”以查看画面。
    *   在“基础控制”选项卡中选择您喜欢的控制模式（连续/单次/手柄）进行操作。
    *   如果使用手柄，可以先到“手柄设置”选项卡中进行轴绑定。

## 注意事项
-   请确保您的防火墙允许程序访问网络，以便与机器人进行TCP通信。
-   手柄功能依赖 `pygame` 库，如果未安装，程序会提示且该功能将被禁用。
-   默认的手柄轴绑定是基于Windows下的Xbox手柄设置的，如果您的手柄不适用，请务必使用“手柄设置”功能进行自定义。 
